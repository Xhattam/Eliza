# -*- coding: utf-8 -*-
import Tkinter
import time


"""
Author: JTanon
Created on the 08/06/2013
"""


root = Tkinter.Tk()

#Main window and widgets parameters
eliza = Tkinter.Label(text = "Eliza", borderwidth = 10, font = "Arial 14")
display = Tkinter.Text(font = "Times 10", state = Tkinter.DISABLED)
user_entry = Tkinter.Entry()
send_button = Tkinter.Button(text = "Envoyer")
quit_button = Tkinter.Button(text = "Quitter Eliza", command = root.destroy)
user_entry.config(width = 85) # user's entry
display.config(width = 100, height = 15) # displays Eliza's answer

#Hello message display
display.config(state = Tkinter.NORMAL)
display.insert("0.0", "Bonjour, je suis Eliza. Que puis-je faire pour vous?")
display.config(state = Tkinter.DISABLED)

#TO BE MOVED LATER
#to add in the function that will display Eliza's answer
send_button.config(state = Tkinter.NORMAL)
display.config(state = Tkinter.NORMAL)
display.config(state = Tkinter.DISABLED)

#Placement of widgets
eliza.grid()
display.grid()
user_entry.grid()
send_button.grid(row = 6, column = 0, sticky = "s" + "e")
quit_button.grid(row = 6, column = 0, sticky = "s" + "w")

#Gets user input, Adds input to stack
#Displays user's entry in main window while deleting it from user_entry window
def enter(event): 
	if event.keysym == "Return" or event.num == 1:
		display.config(state = Tkinter.NORMAL)
		#self.stackWrite(self, str+(entry.strip())) adds user's entry to stack
		display.insert(Tkinter.END, "\n"+user_entry.get())
		user_entry.delete(0, len(user_entry.get()))
		send_button.config(state = Tkinter.DISABLED)
		user_entry.config(state = Tkinter.DISABLED)
		display.config(state = Tkinter.DISABLED)


#NOT FULLY FUNCTIONNAL YET (only clic works and message not displayed)
def quit(event):
	if event.keysym == "Return" or event.num == 1:
		end = "Passez une bonne journ√©e!"
		display.config(state = Tkinter.NORMAL)
		display.insert(Tkinter.END, "\n"+ "Bye")
		display.config(state = Tkinter.DISABLED)
		time.sleep(2) 

		
#Binds keyboard/mouse actions to widgets
user_entry.bind("<Key>", enter)
user_entry.focus_set()

send_button.bind("<Button-1>", enter)
send_button.bind("<Key>", enter)
send_button.focus_set()

quit_button.bind("<Button-1>", quit)
quit_button.bind("<Key>", quit)
quit_button.focus_set()

root.mainloop()









